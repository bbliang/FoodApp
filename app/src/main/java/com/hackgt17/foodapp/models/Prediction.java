package com.hackgt17.foodapp.models;

import android.os.Parcel;
import android.os.Parcelable;

import com.google.gson.annotations.Expose;
import com.google.gson.annotations.SerializedName;

/**
 * Representation of the classification data generated by MS Custom Vision Service
 */
public class Prediction implements Parcelable {

    //GSON deserialization annotations
    //Required for extracting information from JSON file and initialize Prediction object
    @SerializedName("TagId")
    @Expose
    private String tagId;

    @SerializedName("Tag")
    @Expose
    private String _tag;

    @SerializedName("Probability")
    @Expose
    private double probability;

    public Prediction() {
    }

    /**
     * Constructor for reading in a parcel and extracting attributes
     * @param in parcel as input
     */
    protected Prediction(Parcel in) {
        this.tagId = in.readString();
        this._tag = in.readString();
        this.probability = in.readDouble();
    }

    //Accessor/mutator methods
    public String getClassId() {
        return tagId;
    }

    public void setClassId(String tagId) {
        this.tagId = tagId;
    }

    public String getClass_() {
        return _tag;
    }

    public void setClass_(String _tag) {
        this._tag = _tag;
    }

    public double getProbability() {
        return probability;
    }

    public void setProbability(double probability) {
        this.probability = probability;
    }

    @Override
    public int describeContents() {
        return 0;
    }

    /**
     * Method to flatten the object into a parcel to pass to the Main Activity
     * Convert from Prediction object to parcel
     * @param out the parcel to create
     * @param flags additional flags on how the parcel should be created
     */
    @Override
    public void writeToParcel(Parcel out, int flags) {
        out.writeString(this.tagId);
        out.writeString(this._tag);
        out.writeDouble(this.probability);
    }

    /**
     * public CREATOR field that generates instances of your Parcelable class from a Parcel
     *
     * Required for converting a parcel into a Prediction object
     */
    public static final Parcelable.Creator<Prediction> CREATOR = new Parcelable.Creator<Prediction>() {
        @Override
        public Prediction createFromParcel(Parcel source) {
            return new Prediction(source);
        }

        @Override
        public Prediction[] newArray(int size) {
            return new Prediction[size];
        }
    };
}